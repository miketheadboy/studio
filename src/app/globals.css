
@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: var(--font-special-elite), var(--font-inter), sans-serif; /* Default to typewriter, fallback to Inter */
}

@layer base {
  :root {
    /* New Palette: Stippling Flowers Graffiti Abandoned Building */
    --background: 210 15% 96%; /* Pale, slightly cool off-white - like a primed wall or old paper */
    --foreground: 210 10% 25%; /* Dark, slightly desaturated blue-grey - for text */
    
    --card: 210 10% 90%; /* Light grey - concrete slab feel or aged paper */
    --card-foreground: 210 10% 25%;
    
    --popover: 210 10% 92%; /* Slightly lighter popover */
    --popover-foreground: 210 10% 25%;
    
    --primary: 330 60% 60%; /* Muted Magenta - graffiti accent */
    --primary-foreground: 0 0% 100%; /* White */
    
    --secondary: 25 80% 60%; /* Dusty Orange - graffiti accent */
    --secondary-foreground: 210 10% 15%; /* Very dark grey/black for contrast on orange */
    
    --muted: 30 15% 88%; /* Desaturated light beige/grey - weathered look, like old concrete */
    --muted-foreground: 210 10% 45%; /* Medium desaturated blue-grey */
    
    --accent: 180 40% 55%; /* Faded Teal/Cyan - graffiti accent or "oxidized metal" */
    --accent-foreground: 0 0% 100%; /* White */
    
    --destructive: 0 60% 50%; /* Slightly desaturated red - like faded warning paint */
    --destructive-foreground: 0 0% 100%;
    
    --border: 210 10% 65%; /* Medium grey - for general borders, like cracks or outlines */
    --input: 210 15% 98%; /* Very light, clean input area, like a fresh page in a found journal */
    --ring: 330 60% 60%; /* Primary magenta for focus rings - graffiti highlight */
    
    --radius: 0.3rem; /* Slightly sharper radius for a more "industrial" or cut-out feel */

    /* Chart colors - graffiti inspired */
    --chart-1: 330 60% 70%; /* Lighter Magenta */
    --chart-2: 25 80% 70%;   /* Lighter Orange */
    --chart-3: 180 40% 65%; /* Lighter Teal */
    --chart-4: 210 10% 40%; /* Dark Grey */
    --chart-5: 35 40% 50%;  /* Ochre/Brown - like rust or earth */

    /* Custom font variables (existing) */
    --font-rock-salt: 'Rock Salt', cursive;
    --font-inter: 'Inter', sans-serif;
    --font-homemade-apple: 'Homemade Apple', cursive;
    --font-architects-daughter: 'Architects Daughter', cursive;
    --font-special-elite: 'Special Elite', cursive;
    --font-bangers: 'Bangers', cursive;
    --font-nothing-you-could-do: 'Nothing You Could Do', cursive;
    --font-covered-by-your-grace: 'Covered By Your Grace', cursive;
    --font-caveat: 'Caveat', cursive;
  }

  .dark {
    /* Dark Mode - Abandoned building at night, lit by stray light */
    --background: 210 10% 12%; /* Very dark, slightly desaturated blue-grey */
    --foreground: 210 15% 85%; /* Light grey/off-white text - chalk marks */
    
    --card: 210 10% 18%; /* Darker grey slab */
    --card-foreground: 210 15% 85%;
    
    --popover: 210 10% 15%;
    --popover-foreground: 210 15% 85%;
    
    --primary: 330 70% 70%; /* Brighter Magenta for dark mode */
    --primary-foreground: 210 10% 10%; 
    
    --secondary: 25 90% 70%; /* Brighter Orange for dark mode */
    --secondary-foreground: 210 10% 10%; 
    
    --muted: 210 10% 25%; /* Dark muted grey */
    --muted-foreground: 210 15% 70%; 
    
    --accent: 180 50% 65%; /* Brighter Teal for dark mode */
    --accent-foreground: 180 100% 15%; 
    
    --destructive: 0 70% 60%; 
    --destructive-foreground: 0 0% 10%;
    
    --border: 210 10% 40%; 
    --input: 210 10% 22%; 
    --ring: 330 70% 70%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-special-elite), var(--font-inter), sans-serif;
  }
  
  .page-title-font {
    font-family: var(--font-rock-salt); /* Graffiti-esque */
    color: hsl(var(--primary)); /* Magenta */
    overflow-wrap: break-word;
    word-break: break-word;
  }
  .handwritten-main-title-font { 
    font-family: var(--font-homemade-apple); 
    font-size: 2.5rem; 
    color: hsl(var(--secondary-foreground)); 
    background-color: hsl(var(--secondary)); /* Dusty Orange BG */
    padding: 0.2em 0.5em; 
    display: inline-block; 
    transform: rotate(-1.5deg); 
    box-shadow: 2px 2px 0px hsl(var(--foreground) / 0.3); 
    overflow-wrap: break-word;
    word-break: break-word;
  } 
  .handwritten-section-title-font { 
    font-family: var(--font-architects-daughter); 
    font-size: 1.85rem; 
    color: hsl(var(--accent)); /* Faded Teal */
    overflow-wrap: break-word;
    word-break: break-word;
  }
  .typewriter-font { 
    font-family: var(--font-special-elite); 
  } 
  .alt-heading-font { /* Could be for stenciled-look headers */
    font-family: var(--font-bangers); 
    letter-spacing: 0.05em; 
    color: hsl(var(--secondary)); /* Dusty Orange */
    overflow-wrap: break-word;
    word-break: break-word;
  }
  .scrapbook-note-font { /* For smaller, scribbled notes */
    font-family: var(--font-covered-by-your-grace); 
    font-size: 1.1rem; 
    color: hsl(var(--muted-foreground)); 
    overflow-wrap: break-word;
    word-break: break-word;
  }
  .dylan-quote { /* Like graffiti or a found note */
    font-family: var(--font-nothing-you-could-do);
    font-size: 1.3rem;
    color: hsl(var(--foreground) / 0.9); 
    border-left-width: 3px;
    border-left-style: solid;
    border-left-color: hsl(var(--accent)); /* Teal accent line */
    @apply pl-4 pr-3 py-3 mt-2 bg-card/70 rounded-sm italic; 
    overflow-wrap: break-word;
    word-break: break-word;
  }

  .main-section-title {
    font-family: var(--font-rock-salt); /* Graffiti style */
    @apply text-3xl sm:text-4xl text-center mb-6 pb-2 border-b-2 border-dashed border-border; /* Dashed like a chalk line or stencil break */
    overflow-wrap: break-word;
    word-break: break-word;
  }
  .subsection-title {
    font-family: var(--font-architects-daughter); /* Sketchy graffiti */
    @apply text-xl sm:text-2xl mb-3;
    overflow-wrap: break-word;
    word-break: break-word;
  }
  
  /* Theme colors for main section titles - graffiti accents */
  .canvas-title { color: hsl(var(--primary)); } /* Magenta */
  .sparks-muses-title { color: hsl(var(--accent)); } /* Teal */
  .lyrical-toolkit-title { color: hsl(var(--secondary)); } /* Dusty Orange */
  .musical-toolkit-title { color: hsl(var(--primary) / 0.8); } /* Slightly faded Magenta */
  .song-generator-title { color: hsl(var(--accent) / 0.8); } /* Slightly faded Teal */

  /* Sub-section title colors - graffiti accents */
  .phrase-spark-title { color: hsl(var(--secondary)); } 
  .sonic-lab-title { color: hsl(var(--accent)); } 
  .lyrical-mood-ring-title { color: hsl(var(--primary)); } 
  .song-structure-title { color: hsl(var(--accent)); } 
  .metaphor-builder-title { color: hsl(var(--primary)); } 
  .riff-altar-title { color: hsl(var(--secondary)); } 
  .chord-forge-title { color: hsl(var(--accent)); } 
  .chord-reharmonizer-title { color: hsl(var(--primary)); } 
  .chord-voicing-title { color: hsl(var(--secondary)); } 
  .instrumentation-title { color: hsl(var(--accent)); } 
  .artist-inspiration-title { color: hsl(var(--primary)); } 
  .muse-whisper-title { color: hsl(var(--secondary));} 
  .name-that-noise-title { color: hsl(var(--accent)); } 
  .poets-corner-title { color: hsl(var(--primary)); } 
  .bridge-builder-title { color: hsl(var(--secondary)); } 
  .melody-spark-title { color: hsl(var(--accent)); } 
  .study-song-title { color: hsl(var(--primary)); } 
  .rhythm-architect-title { color: hsl(var(--secondary)); } 
  .word-association-title { color: hsl(var(--foreground) / 0.8); } 
  .rhyme-scheme-title { color: hsl(var(--accent)); } 
  .section-expander-title { color: hsl(var(--primary)); } 

  .output-display-area {
    @apply mt-4 p-4 bg-input rounded border border-dashed border-border shadow-inner min-h-[80px] whitespace-pre-wrap; /* Like a taped-on piece of paper */
    font-family: var(--font-special-elite); 
    color: hsl(var(--foreground));
    line-height: 1.7; 
    overflow-wrap: break-word; 
    word-break: break-word; 
  }
  .send-buttons-container {
    @apply mt-4 flex gap-3 flex-wrap;
  }
  .loader {
    border: 4px solid hsl(var(--muted)); 
    border-top: 4px solid hsl(var(--primary)); /* Magenta spinner */
    @apply rounded-full w-8 h-8 animate-spin mx-auto my-5;
  }
  .main-section-box {
    background-color: hsl(var(--card)); /* Concrete/aged paper */
    @apply border border-solid border-[hsl(var(--border)/0.7)] rounded-md p-4 sm:p-6 mb-8 shadow-lg relative; /* Solid, worn border */
    overflow-wrap: break-word;
    word-break: break-word;
  }

  /* Specific background colors for sections for collage/journal page effect */
  #introSection { background-color: hsl(var(--muted)); border-left: 4px solid hsl(var(--accent)); } /* Weathered concrete with teal graf mark */
  #howToSection { background-color: hsl(var(--card) / 0.9); border-left: 4px solid hsl(var(--secondary)); } /* Slightly different paper with orange mark */
  #songCanvasSection { background-color: hsl(var(--background)); border-top: 2px dashed hsl(var(--primary)); } /* Main paper with magenta dashed line */
  #sparksMusesSection { background-color: hsl(var(--card) / 0.95); border-top: 2px dashed hsl(var(--accent)); } 
  #lyricalToolkitSection { background-color: hsl(var(--card) / 0.9); border-top: 2px dashed hsl(var(--secondary)); } 
  #musicalToolkitSection { background-color: hsl(var(--card) / 0.95); border-top: 2px dashed hsl(var(--primary)); } 
  #completeSongGeneratorSection { background-color: hsl(var(--card) / 0.9); border-top: 2px dashed hsl(var(--accent)); }

  .tool-card {
    background-color: hsl(var(--background)); /* Main paper, like cutouts */
    @apply border border-dashed border-[hsl(var(--foreground)/0.4)] rounded-sm p-4 sm:p-6 shadow-md relative; /* Dashed like chalk or tape */
    transform: rotate(calc( (var(--random-rotate, 0) - 0.5) * 1deg )); /* Subtle rotation */
    overflow: hidden; 
    overflow-wrap: break-word;
    word-break: break-word;
  }
  .tool-card:nth-child(odd) { --random-rotate: 0.55; }
  .tool-card:nth-child(even) { --random-rotate: 0.45; }

  #tipBox { 
    background-color: hsl(var(--accent)/0.15); /* Very subtle teal wash */
    border: 1px solid hsl(var(--accent)); 
    font-family: var(--font-covered-by-your-grace); /* Scribbled tip */
    color: hsl(var(--accent-foreground)); 
    @apply p-4 mb-6 rounded-sm text-center text-lg shadow-sm;
    overflow-wrap: break-word;
    word-break: break-word;
  }
}

.collapsible-header-style {
  @apply flex flex-1 items-center justify-between py-4 font-medium transition-all text-left;
  font-family: var(--font-bangers); /* Stencil/Graffiti style */
  font-size: 1.5rem;
  letter-spacing: 0.05em;
  color: hsl(var(--primary)); /* Magenta */
  overflow-wrap: break-word; 
  word-break: break-word;
}
.collapsible-header-style:hover {
  color: hsl(var(--primary) / 0.8);
}
.collapsible-trigger-style > svg {
  @apply h-6 w-6 shrink-0 transition-transform duration-300 text-[hsl(var(--primary))]; 
}
.collapsible-trigger-style[data-state=open] > svg {
  transform: rotate(90deg); 
}

.word-association-chat {
    @apply border border-dashed border-[hsl(var(--border))] rounded p-3 max-h-[300px] overflow-y-auto bg-[hsl(var(--muted)/0.3)] text-sm mt-4;
    font-family: var(--font-special-elite);
    overflow-wrap: break-word;
    word-break: break-word;
}
.word-association-message-user {
    @apply text-[hsl(var(--primary))] text-right mb-2; /* Magenta for user */
}
.word-association-message-ai {
    @apply text-[hsl(var(--accent))] text-left mb-2; /* Teal for AI */
}
.word-association-message-user::before {
    content: 'You: ';
    @apply font-bold;
}
.word-association-message-ai::before {
    content: 'AI: ';
    @apply font-bold;
}

/* Button styles to fit the theme */
.btn-send-lyrics { 
  @apply bg-primary text-primary-foreground hover:bg-primary/80 border border-primary-foreground/30 shadow-sm;
  font-family: var(--font-caveat);
  font-size: 1.1rem;
  padding: 0.5rem 1rem;
  border-radius: 0.2rem; /* Sharper edges */
  transform: rotate(-0.5deg);
}
.btn-send-canvas { 
  @apply bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-secondary-foreground/30 shadow-md;
  font-family: var(--font-caveat);
  font-size: 1.1rem;
  padding: 0.5rem 1rem;
  border-radius: 0.2rem;
  transform: rotate(0.5deg);
}
.btn-suggestion {
  @apply bg-accent text-accent-foreground border border-accent-foreground/50 hover:bg-accent/80 shadow-lg;
  font-family: var(--font-rock-salt);
  @apply text-base px-6 py-3 rounded-sm; /* Small radius */
  transform: rotate(0.5deg);
}
.btn-toggle-phrases {
  @apply bg-primary text-primary-foreground hover:bg-primary/80 border border-primary-foreground/30;
  font-family: var(--font-bangers);
  letter-spacing: 0.05em;
}
.btn-structure {
    background-color: hsl(var(--muted)); 
    color: hsl(var(--muted-foreground));
    font-family: var(--font-architects-daughter);
    @apply px-3 py-1.5 text-sm rounded-sm border border-dashed border-[hsl(var(--border))] m-1 hover:bg-[hsl(var(--border))] hover:text-background shadow-sm;
}

.tool-card > div[data-slot="card-content"], 
.tool-card .p-6.pt-0 { 
  overflow-wrap: break-word;
  word-break: break-word;
}

.phrase-card {
  @apply p-3 flex flex-col bg-background shadow-sm hover:shadow-md transition-shadow border-border/70;
  overflow-wrap: break-word; 
  word-break: break-word;
}

.phrase-card > span.font-semibold {
  display: block; 
  overflow-wrap: break-word;
  word-break: break-word;
}

.main-section-box .pb-4.pt-0 { 
  overflow-x: hidden; 
}
    

    